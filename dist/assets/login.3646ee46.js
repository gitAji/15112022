import"./profile.ec11ac56.js";const d="https://nf-api.onrender.com/api/v1",m="/auction/auth/login",u=`${d}${m}`,g=document.getElementById("loginBtn");document.getElementById("userName");g.addEventListener("click",n=>{n.preventDefault();const s=document.getElementById("email").value.trim(),t=document.getElementById("password").value.trim();s===""?emailError.innerHTML="Email is required":(s.includes!="noroff.no",emailError.innerHTML="Please enter your student email address."),t===""?passwordError.innerHTML="Password is required":t.length<8?passwordError.innerHTML="Password is too short.":(userMessage.innerHTML="",emailError.innerHTML="",passwordError.innerHTML="");const r={email:s,password:t};console.log(r);async function a(l,c){try{const e=await fetch(l,{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}),o=await e.json();if(console.log(o),console.log(e),e.status===200){const T=localStorage.setItem("username",o.name),E=localStorage.setItem("accessToken",o.accessToken),p=localStorage.setItem("credits",o.credits);window.location.href="profile.html",setTimeout(()=>{form.reset(),emailError.innerHTML=""},500)}else userMessage.innerHTML=o.status}catch(e){console.log(e)}}a(u,r)});const i=document.getElementById("status");function f(){const n=localStorage.getItem("accessToken");n?i.innerHTML="You are logged in":n||(i.innerHTML="You are logged out")}f();
