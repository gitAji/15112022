import"./alert.29446747.js";import"./listings.f60426cc.js";const y="https://nf-api.onrender.com/api/v1",E="/auction/auth/register",M=`${y}${E}`,T=document.getElementById("userName"),L=document.getElementById("email"),H=document.getElementById("password"),h=document.getElementById("confirm-password"),B=document.getElementById("avatar"),I=document.getElementById("register"),P=document.getElementById("registration"),o=document.getElementById("name-error"),i=document.getElementById("email-error"),l=document.getElementById("password-error"),r=document.getElementById("confirm-password-error");document.getElementById("avatar-error");function V(){I.addEventListener("click",async d=>{d.preventDefault();const n=T.value.trim(),s=L.value.trim(),t=H.value.trim(),a=h.value.trim(),u=B.value.trim();var e=!0;if(n===""?(o.innerHTML="Name is required",e=!1):n.length<4?(o.innerHTML="Name is too short.",e=!1):o.innerHTML="",s===""?(i.innerHTML="Email is required",e=!1):s.includes==="noroff.no || student.noroff.no"?(i.innerHTML="Please enter your student email address.",e=!1):i.innerHTML="",t===""?(l.innerHTML="Password is required",e=!1):t.length<8?(l.innerHTML="password must be longer than 8.",e=!1):l.innerHTML="",a===""?(r.innerHTML="Please confirm your password.",e=!1):a.length<8?(r.innerHTML="Password must be longer than 8.",e=!1):r.innerHTML="",t!==a?r.innerHTML="Passwords do not match.":r.innerHTML="",e===!1)return;d.preventDefault();const f={name:n,email:s,password:t,avatar:u};async function g(p,v){try{const c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)},m=await fetch(p,c),w=await m.json();m.ok?(userMessage.innerHTML=`
                    <div class="alert alert-success" role="alert">
                    You are registered now! Please login to bid!
                  </div>`,P.reset()):(userMessage.innerHTML=`
                    <div class="alert alert-danger">
                    ${w.status}
                  </div>`,setTimeout(()=>{userMessage.innerHTML=`
                    <div class="alert alert-danger">
                    Duplicated data is entered!
                  </div>`},3e3))}catch{}}g(M,f)})}V();
