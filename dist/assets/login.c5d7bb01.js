import"./alert.29446747.js";const m="https://nf-api.onrender.com/api/v1",u="/auction/auth/login",g=`${m}${u}`,f=document.getElementById("loginBtn");document.getElementById("userName");function T(){f.addEventListener("click",n=>{n.preventDefault();const s=document.getElementById("email").value.trim(),t=document.getElementById("password").value.trim();s===""?emailError.innerHTML="Email is required":(s.includes!="noroff.no",emailError.innerHTML="Please enter your student email address."),t===""?passwordError.innerHTML="Password is required":t.length<8?passwordError.innerHTML="Password is too short.":(userMessage.innerHTML="",emailError.innerHTML="",passwordError.innerHTML="");const i={email:s,password:t};console.log(i);async function l(c,d){try{const e=await fetch(c,{method:"POST",body:JSON.stringify(d),headers:{"Content-Type":"application/json"}}),o=await e.json();if(console.log(o),console.log(e),e.status===200){const E=localStorage.setItem("username",o.name),p=localStorage.setItem("accessToken",o.accessToken),L=localStorage.setItem("credits",o.credits);window.location.href="profile.html",setTimeout(()=>{form.reset(),emailError.innerHTML=""},500)}else userMessage.innerHTML=o.status}catch(e){console.log(e)}}l(g,i)});const r=document.getElementById("status");function a(){const n=localStorage.getItem("accessToken");n?r.innerHTML="You are logged in":n||(r.innerHTML="You are logged out")}a()}T();
